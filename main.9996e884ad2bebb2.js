"use strict";(self.webpackChunkdavengo_results=self.webpackChunkdavengo_results||[]).push([["main"],{6211:(d,v,o)=>{var p=o(6593),b=o(9594),Z=o(5306),t=o(5879),y=o(349);const A={providers:[(0,t.RIp)(p.b2,b.U8),(0,Z.h_)(),(0,y.iQ)()]};var f=o(2296),c=o(7667),C=o(1274);var u=o(5195),l=o(1370),U=o(6814),i=o(6223),g=o(9157),T=o(2032),w=o(6007),x=o(1631),_=o(7398),D=o(7537),N=o(7416),Y=o(9315),k=o(6306),S=o(2096);let O=(()=>{class e{constructor(a){this.http=a,this.urls=["https://www.davengo.com/event/result/5-commerzbank-firmenlauf-2012/","https://www.davengo.com/event/result/6-commerzbank-firmenlauf-2013/","https://www.davengo.com/event/result/7-commerzbank-firmenlauf-2014/","https://www.davengo.com/event/result/commerzbank-firmenlauf-2015/","https://www.davengo.com/event/result/commerzbank-firmenlauf-2016/","https://www.davengo.com/event/result/commerzbank-firmenlauf-2017/","https://www.davengo.com/event/result/schnellestellede-firmenlauf-2018/","https://www.davengo.com/event/result/schnellestellede-firmenlauf-2019/","https://www.davengo.com/event/result/schnellestellede-firmenlauf-2020/","https://www.davengo.com/event/result/schnellestellede-firmenlauf-2021/","https://www.davengo.com/event/result/schnellestellede-firmenlauf-2022/","https://www.davengo.com/event/result/schnellestellede-firmenlauf-2023/"]}getRuns(a,m){return(0,Y.D)(this.urls.map(s=>this.fetch(s,a,m)))}fetch(a,m,s){return this.http.post(`${a}search/list`,{category:"Einzelwertung",offset:0,query:{firstName:m,lastName:s},type:"extended"}).pipe((0,k.K)(r=>(0,S.of)(void 0)),(0,x.z)(r=>r?r.results:new Array),(0,_.U)(r=>({teamName:r.teamName??r.team,firstName:r.firstName,lastName:r.lastName,company:r.firma,rank:r.rankTotal,startNumber:r.startNo,nettoTime:r.nettoTime,year:a.slice(a.length-5,a.length-1)})),(0,N.q)(),(0,_.U)(r=>({year:a.slice(a.length-5,a.length-1),rankings:r})))}}return e.\u0275fac=function(a){return new(a||e)(t.LFG(Z.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function z(e,n){1&e&&t._UZ(0,"mat-progress-bar",11)}function q(e,n){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1,"Year"),t.qZA())}function I(e,n){if(1&e&&(t.TgZ(0,"mat-cell")(1,"span",23),t._uU(2,"Year:"),t.qZA(),t._uU(3),t.qZA()),2&e){const a=n.$implicit;t.xp6(3),t.hij(" ",a.year," ")}}function Q(e,n){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1,"Name"),t.qZA())}function J(e,n){if(1&e&&(t.TgZ(0,"mat-cell")(1,"span",23),t._uU(2,"Name:"),t.qZA(),t._uU(3),t.qZA()),2&e){const a=n.$implicit;t.xp6(3),t.hij(" ",a.firstName+" "+a.lastName," ")}}function M(e,n){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1,"Team name"),t.qZA())}function P(e,n){if(1&e&&(t.TgZ(0,"mat-cell")(1,"span",23),t._uU(2,"Team name:"),t.qZA(),t._uU(3),t.qZA()),2&e){const a=n.$implicit;t.xp6(3),t.hij(" ",a.teamName," ")}}function j(e,n){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1,"Rank"),t.qZA())}function F(e,n){if(1&e&&(t.TgZ(0,"mat-cell")(1,"span",23),t._uU(2,"Rank:"),t.qZA(),t._uU(3),t.qZA()),2&e){const a=n.$implicit;t.xp6(3),t.hij(" ",a.rank," ")}}function H(e,n){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1,"Time"),t.qZA())}function B(e,n){if(1&e&&(t.TgZ(0,"mat-cell")(1,"span",23),t._uU(2,"Time:"),t.qZA(),t._uU(3),t.qZA()),2&e){const a=n.$implicit;t.xp6(3),t.hij(" ",a.nettoTime," ")}}function E(e,n){if(1&e&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&e){const a=t.oxw(3);t.uIk("colspan",a.displayedColumns.length),t.xp6(1),t.AsE(' No data matching the filter "',a.form.value.firstName," ",a.form.value.lastName,'" ')}}function G(e,n){if(1&e&&(t.TgZ(0,"tr",24),t.YNc(1,E,2,3,"td",25),t.qZA()),2&e){const a=t.oxw(2);t.xp6(1),t.Q6J("ngIf",a.initialSearch&&!a.loading)}}function L(e,n){1&e&&t._UZ(0,"mat-header-row")}function $(e,n){1&e&&t._UZ(0,"mat-row")}function R(e,n){if(1&e&&(t.TgZ(0,"mat-table",12),t.ynx(1,13),t.YNc(2,q,2,0,"mat-header-cell",14),t.YNc(3,I,4,1,"mat-cell",15),t.BQk(),t.ynx(4,16),t.YNc(5,Q,2,0,"mat-header-cell",14),t.YNc(6,J,4,1,"mat-cell",15),t.BQk(),t.ynx(7,17),t.YNc(8,M,2,0,"mat-header-cell",14),t.YNc(9,P,4,1,"mat-cell",15),t.BQk(),t.ynx(10,18),t.YNc(11,j,2,0,"mat-header-cell",14),t.YNc(12,F,4,1,"mat-cell",15),t.BQk(),t.ynx(13,19),t.YNc(14,H,2,0,"mat-header-cell",14),t.YNc(15,B,4,1,"mat-cell",15),t.BQk(),t.YNc(16,G,2,1,"tr",20),t.YNc(17,L,1,0,"mat-header-row",21),t.YNc(18,$,1,0,"mat-row",22),t.qZA()),2&e){const a=t.oxw();t.Q6J("dataSource",a.dataSource),t.xp6(17),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns)}}let W=(()=>{class e{constructor(a,m){this.formBuilder=a,this.dashboardService=m,this.loading=!1,this.initialSearch=!1,this.dataSource=new l.by,this.displayedColumns=["year","name","teamName","rank","nettoTime"]}ngOnInit(){this.form=this.formBuilder.group({firstName:["",i.kI.required],lastName:["",i.kI.required]})}onSubmit(){this.initialSearch=!0,this.loading=!0,this.dataSource=new l.by,this.dashboardService.getRuns(this.form.value.firstName,this.form.value.lastName).pipe((0,x.z)(a=>a),(0,_.U)(a=>{const m=a.rankings;return m.forEach(s=>s.year=a.year),m}),(0,D.J)(),(0,N.q)()).subscribe(a=>{this.dataSource=new l.by(a),this.loading=!1})}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(i.qu),t.Y36(O))},e.\u0275cmp=t.Xpm({type:e,selectors:[["dr-dashboard"]],standalone:!0,features:[t.jDz],decls:29,vars:4,consts:[[1,"w-4/5","mx-auto"],["novalidate","",3,"formGroup","ngSubmit"],[1,"flex","gap-5"],[1,"basis-1/2"],["matInput","","formControlName","firstName","minlength","3"],["matInput","","formControlName","lastName","minlength","3"],[1,"flex","mb-3"],["mat-raised-button","","color","primary",1,"flex-1",3,"disabled"],[1,"h-1","mb-3"],["mode","indeterminate",4,"ngIf"],["class","mat-elevation-z8",3,"dataSource",4,"ngIf"],["mode","indeterminate"],[1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","year"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","name"],["matColumnDef","teamName"],["matColumnDef","rank"],["matColumnDef","nettoTime"],["class","mat-row",4,"matNoDataRow"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"extra-label"],[1,"mat-row"],["class","mat-cell",4,"ngIf"],[1,"mat-cell"]],template:function(a,m){1&a&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),t._uU(3,"Formular data"),t.qZA()(),t.TgZ(4,"mat-card-content")(5,"p"),t._uU(6," Enter your first and last name to receive data from the result pages from "),t.TgZ(7,"em"),t._uU(8,"davengo.com"),t.qZA(),t._uU(9," for "),t.TgZ(10,"em"),t._uU(11,"Firmenlauf Leipzig"),t.qZA(),t._uU(12,". In the background, the result pages of the years 2012-2023 are queried and displayed here in summary. "),t.qZA(),t.TgZ(13,"form",1),t.NdJ("ngSubmit",function(){return m.onSubmit()}),t.TgZ(14,"div",2)(15,"mat-form-field",3)(16,"mat-label"),t._uU(17,"First name"),t.qZA(),t._UZ(18,"input",4),t.qZA(),t.TgZ(19,"mat-form-field",3)(20,"mat-label"),t._uU(21,"Last name"),t.qZA(),t._UZ(22,"input",5),t.qZA()(),t.TgZ(23,"div",6)(24,"button",7),t._uU(25,"Search"),t.qZA()()(),t.TgZ(26,"div",8),t.YNc(27,z,1,0,"mat-progress-bar",9),t.qZA(),t.YNc(28,R,19,3,"mat-table",10),t.qZA()()),2&a&&(t.xp6(13),t.Q6J("formGroup",m.form),t.xp6(11),t.Q6J("disabled",!m.form.valid||m.loading),t.xp6(3),t.Q6J("ngIf",m.loading),t.xp6(1),t.Q6J("ngIf",m.dataSource))},dependencies:[f.ot,f.lW,u.QW,u.a8,u.dn,u.dk,u.n5,g.lN,g.KE,g.hX,T.c,T.Nt,w.Cv,w.pW,l.p0,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,l.Ee,U.O5,i.UX,i._Y,i.Fj,i.JJ,i.JL,i.wO,i.sg,i.u],styles:[".extra-label[_ngcontent-%COMP%]{display:none}.mat-mdc-no-data-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{padding:16px 24px}@media screen and (max-width: 768px){mat-header-row[_ngcontent-%COMP%]{display:none}mat-cell[_ngcontent-%COMP%]:first-of-type{padding-left:16px}mat-row[_ngcontent-%COMP%]{flex-direction:column;align-items:start;padding:8px 24px;height:auto!important}mat-row[_ngcontent-%COMP%]:last-child   mat-cell[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.12)}.extra-label[_ngcontent-%COMP%]{width:100px;display:inline-block;font-weight:700}}"]}),e})();function X(e,n){1&e&&(t.TgZ(0,"h2",6),t._uU(1,"Overview"),t.qZA(),t.TgZ(2,"mat-dialog-content"),t._uU(3," Shows the ranking of 'Firmenlauf Leipzig' for the years 2012-2023. "),t._UZ(4,"br"),t._uU(5," Users can check there results in one search. "),t.qZA(),t.TgZ(6,"mat-dialog-actions",7)(7,"button",8),t._uU(8,"Close"),t.qZA()())}(0,p.Cg)((()=>{class e{constructor(a,m,s){this.dialog=a,this.titleService=m,this.overlayContainer=s,this.class="indigo-pink-theme",this.appname="Davengo results",this.titleService.setTitle(this.appname),this.overlayContainer.getContainerElement().classList.add("indigo-pink-theme")}openDialog(a){this.dialog.open(a,{maxWidth:"800px"})}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(c.uw),t.Y36(p.Dx),t.Y36(b.Xj))},e.\u0275cmp=t.Xpm({type:e,selectors:[["dr-root"]],hostVars:2,hostBindings:function(a,m){2&a&&t.Tol(m.class)},standalone:!0,features:[t.jDz],decls:13,vars:1,consts:[[1,"mat-app-background"],["color","primary",1,"mat-elevation-z4","justify-between"],["mat-button","",3,"click"],["mat-button","","href","https://github.com/inpercima/davengo-results","target","_blank"],["alt","GitHub Repository","src","../assets/github-mark-white.svg",1,"github-link"],["dialog",""],["mat-dialog-title",""],["align","end"],["mat-button","","mat-dialog-close","","cdkFocusInitial",""]],template:function(a,m){if(1&a){const s=t.EpF();t.TgZ(0,"div",0)(1,"mat-toolbar",1),t._uU(2),t.TgZ(3,"div")(4,"button",2),t.NdJ("click",function(){t.CHM(s);const V=t.MAs(11);return t.KtG(m.openDialog(V))}),t._uU(5,"APP INFO"),t.qZA(),t._uU(6," | "),t.TgZ(7,"a",3),t._UZ(8,"img",4),t._uU(9," GitHub "),t.qZA()()(),t.YNc(10,X,9,0,"ng-template",null,5,t.W1O),t._UZ(12,"dr-dashboard"),t.qZA()}2&a&&(t.xp6(2),t.hij(" ",m.appname," "))},dependencies:[W,f.ot,f.zs,f.lW,c.Is,c.ZT,c.uh,c.xY,c.H8,C.g0,C.Ye],styles:["body[_ngcontent-%COMP%]{font-family:Roboto,Helvetica Neue Light,Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;margin:0;overflow-y:scroll}mat-card[_ngcontent-%COMP%]{margin-top:20px}.github-link[_ngcontent-%COMP%]{height:20px;top:4px;padding-right:5px;position:relative}"]}),e})(),A).catch(e=>console.error(e))}},d=>{d.O(0,["vendor"],()=>d(d.s=6211)),d.O()}]);